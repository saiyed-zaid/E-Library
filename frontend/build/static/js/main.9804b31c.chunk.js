(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{144:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=144},303:function(e,t,a){e.exports=a(563)},308:function(e,t,a){},474:function(e,t){},476:function(e,t){},477:function(e,t){},478:function(e,t){},479:function(e,t){},563:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(308),a(22)),i=a(23),s=a(564),u=a(3),p=a(209),m=a(565),d=a(263),h=a(581),f=a(582),E=a(583),b=function(e){return{type:"LOGIN",payload:e}},g=function(e){return{type:"AUTHUSER",payload:e}},k=s.a.Header,v=Object(i.g)((function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.authUser.authUser})),n=r.a.createElement(p.a,null,r.a.createElement(p.a.Item,{icon:r.a.createElement(h.a,null)},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.alipay.com/"},"Manage Profile")),r.a.createElement(p.a.Item,{icon:r.a.createElement(f.a,null)},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.taobao.com/"},"Change Password")),r.a.createElement(p.a.Item,{icon:r.a.createElement(E.a,null),danger:!0,onClick:function(){t({type:"LOGOUT"}),e.history.push("/signin")}},"Logout"));return r.a.createElement(k,{style:{position:"sticky",top:"0",zIndex:1,width:"100%"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(p.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{textAlign:"right"}},e.isLoggedIn&&r.a.createElement(p.a.Item,null,r.a.createElement(l.b,{to:"/"},"Dashboard")),e.isLoggedIn&&"writer"===a.role&&r.a.createElement(p.a.Item,null,r.a.createElement(l.b,{to:"/add-book"},"Add Book")),e.isLoggedIn&&"writer"===a.role&&r.a.createElement(p.a.Item,null,r.a.createElement(l.b,{to:"/mybooks"},"My Books")),e.isLoggedIn&&"reader"===a.role&&r.a.createElement(p.a.Item,null,r.a.createElement(l.b,{to:"/search"},"Search")),e.isLoggedIn&&r.a.createElement(p.a.Item,{key:"3"},r.a.createElement(m.a,{overlay:n},r.a.createElement(d.a,{style:{backgroundColor:"#7265e6",verticalAlign:"middle"},size:"large",gap:1},a&&a.username.charAt(0).toUpperCase()+a.username.slice(1)))),!e.isLoggedIn&&r.a.createElement(p.a.Item,{key:"1"},r.a.createElement(l.b,{to:"/signup"},"Signup")),!e.isLoggedIn&&r.a.createElement(p.a.Item,{key:"2"},r.a.createElement(l.b,{to:"/signin"},"Login"))))})),y=a(2),O=a.n(y),j=a(8),w=a(77),x=a(102),S=a(170),C=a(299),I=a(571),U=a(570),A=a(42),T=a(573),N=a(578),D=a(579),_=a(585),B=a(586),P=a(587),L=a(18),R=a.n(L),F=a(150),G=a(264),M=a(300),q=a(584),V=function(e){return{type:"GETBOOKS",payload:e}},z=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/user/verification"),e);case 4:422!==(n=t.sent).status||n.data.isVerified?(G.a.success(n.data.message),a({type:"SUCCESSS"})):G.a.error(n.data.error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),G.a.error(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(j.a)(O.a.mark((function a(n){var o;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"LOADING"}),a.next=4,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/signin"),e);case 4:return o=a.sent,n(b(o.data)),n({type:"SUCCESSS"}),a.abrupt("return",!0);case 10:a.prev=10,a.t0=a.catch(0),a.t0.response.data.isNotVerified?M.a.error({message:a.t0.response.data.error,description:"Please click below button to verify your account.",duration:0,btn:r.a.createElement(A.a,{type:"primary",size:"small",onClick:function(){return t.push("/account/verification")}},"Verify Account")}):G.a.error(a.t0.response.data.error),n({type:"SUCCESSS"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/social-login"),e);case 4:return n=t.sent,a(b(n.data)),a({type:"SUCCESSS"}),t.abrupt("return",!0);case 10:t.prev=10,t.t0=t.catch(0),t.t0.response&&(G.a.error(t.t0.response.data.error),a({type:"SUCCESSS"}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e,t){return function(){var a=Object(j.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"LOADING"}),a.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/user/").concat(e),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});case 4:r=a.sent,n(g(r.data)),n({type:"SUCCESSS"}),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/books/author/").concat(e._id),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e.token)}});case 4:n=t.sent,a(V(n.data.books)),a({type:"SUCCESSS"}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/books/").concat(e));case 3:n=t.sent,a({type:"GETBOOK",payload:n.data.book}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Q=function(){return function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING"}),e.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/book/categories"));case 4:a=e.sent,t({type:"GETALLCATEGORIES",payload:a.data.categories}),t({type:"SUCCESSS"}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},$=function(e,t,a){return function(){var n=Object(j.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/book/").concat(a),e,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n.sent,r({type:"INSERT"}),G.a.success("Book Added Successfully."),n.abrupt("return",!0);case 9:n.prev=9,n.t0=n.catch(0),G.a.error(n.t0.response.data.error);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},X=function(e,t,a,n){return function(){var r=Object(j.a)(O.a.mark((function r(o){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/books/").concat(t),e,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 3:return r.sent,o(J({_id:a,token:n})),G.a.success("Data Updated Successfully"),r.abrupt("return",!0);case 9:r.prev=9,r.t0=r.catch(0);case 11:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Z=function(e,t,a){return function(){var n=Object(j.a)(O.a.mark((function n(r){var o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/user/book/read"),e,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});case 3:if(!(o=n.sent).data.canRead){n.next=9;break}return Y(t,a),n.abrupt("return",!0);case 9:return G.a.warning(o.data.error),n.abrupt("return",!1);case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(0);case 15:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},ee="695572775899-6nhep0q0fumfqug1fi0ruj81o9ich1kg.apps.googleusercontent.com",te=I.a.Step,ae=U.a.Option,ne=function(e){var t=e.steps,a=e.current,n=e.next,o=e.prev;return r.a.createElement("div",{className:"steps-action"},a<t.length-1&&r.a.createElement(A.a,{type:"primary",htmlType:"submit",onClick:function(){return n()}},"Next"),a===t.length-1&&r.a.createElement(A.a,{type:"primary",onClick:function(){return alert("Processing complete!")}},"Done"),a>0&&r.a.createElement(A.a,{style:{margin:"0 8px"},onClick:function(){return o()}},"Previous"))},re=function(e){Object(S.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).handleRegistrationChange=function(e){n.setState({registrationFields:e})},n.handleRoleChange=function(e){n.setState({roleFields:e})},n.handlePersonalDetailsChange=function(e){n.setState({personalDetailsFields:e})},n.next=Object(j.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,0===n.state.current&&n.state.registrationFields.length>0&&(n.state.registrationFields.forEach((function(e){(e.errors.length>0||!e.touched)&&(a=!0)})),a||(t=n.state.current+1,n.setState({current:t}))),1===n.state.current&&n.state.roleFields.length>0&&(n.state.roleFields.forEach((function(e){(e.errors.length>0||!e.touched)&&(a=!0)})),a||(t=n.state.current+1,n.setState({current:t}))),2!==n.state.current){e.next=14;break}if(n.state.personalDetailsFields.length>0&&n.state.personalDetailsFields.forEach((function(e){(e.errors.length>0||!e.touched)&&(a=!0)})),n.state.googleData.googleId?(n.userData.username=n.state.googleData.givenName,n.userData.email=n.state.googleData.email,n.userData.googleId=n.state.googleData.googleId):n.state.registrationFields.forEach((function(e){n.userData[e.name[0]]=e.value})),n.state.roleFields.forEach((function(e){n.userData[e.name[0]]=e.value})),n.state.personalDetailsFields.forEach((function(e){n.userData[e.name[0]]=e.value})),a){e.next=14;break}return e.next=11,n.props.signupDispatch(n.userData);case 11:(r=e.sent)&&(t=n.state.current+1),r&&n.setState({current:t,userData:n.userData});case 14:case"end":return e.stop()}}),e)}))),n.prev=function(){var e=n.state.current-1;n.setState({current:e})},n.handleVerifyAccountChange=function(e){n.setState({verificationFields:e})},n.handleVerifyAccount=function(e){var t={};n.state.verificationFields.forEach((function(e){t[e.name[0]]=e.value,t.email=n.userData.email})),n.props.verificationDispatch(t)},n.responseGoogle=function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.googleId&&(n.setState({googleData:t.profileObj}),a=n.state.current+1,n.setState({current:a}))}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCheckUsernameExists=function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/find-user-name/").concat(t.target.value));case 2:a=e.sent,n.setState({hasUsername:a.data.hasUsername}),console.log("UU",a.data.hasUsername);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={current:0,registrationFields:[],roleFields:[],personalDetailsFields:[],bookCategories:[],verificationFields:[],hasError:!1,resultStatus:"info",userData:{},googleData:{},hasUsername:!1},n.steps=[{title:"Registration",content:"Registration Form",icon:r.a.createElement(h.a,null)},{title:"Role, Country",content:"Choose Your Role",icon:r.a.createElement(_.a,null)},{title:"Personal Details",content:"Enter Your Personal Details",icon:r.a.createElement(B.a,null)},{title:"Verification",content:"We have sent you verification code",icon:r.a.createElement(P.a,null)}],n.layout={labelCol:{span:8},wrapperCol:{span:8}},n.userData={},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/book/categories"));case 2:t=e.sent,this.setState({bookCategories:t.data.categories});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Signup"),r.a.createElement(I.a,{current:this.state.current},this.steps.map((function(e,t){return r.a.createElement(te,{key:t,title:e.title,icon:e.icon})}))),r.a.createElement("div",{className:"steps-content"},0===this.state.current&&r.a.createElement(T.a,Object.assign({},this.layout,{form:this.form,name:"basic",layout:"vertical",onFieldsChange:function(t,a){e.handleRegistrationChange(a)}}),r.a.createElement(T.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],validateStatus:this.state.hasUsername&&"error",help:this.state.hasUsername&&"Username exists."},r.a.createElement(N.a,{onChange:this.handleCheckUsernameExists})),r.a.createElement(T.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Min. 6 character required"}]},r.a.createElement(N.a.Password,null)),r.a.createElement(T.a.Item,{label:"Confirm Password",name:"passwordConfirmation",dependencies:["password"],rules:[{required:!0,message:"Please input confirm password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(N.a.Password,null)),r.a.createElement(T.a.Item,null,r.a.createElement(F.GoogleLogin,{clientId:ee,buttonText:"Signup With Goodle",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})),r.a.createElement(ne,{steps:this.steps,current:this.state.current,next:this.next,prev:this.prev})),1===this.state.current&&r.a.createElement(T.a,Object.assign({},this.layout,{name:"basic",layout:"vertical",onFieldsChange:function(t,a){e.handleRoleChange(a)}}),r.a.createElement(T.a.Item,{name:"role",label:"Role",rules:[{required:!0}]},r.a.createElement(U.a,{placeholder:"Select Role",allowClear:!0},r.a.createElement(ae,{value:"reader"},"Reader"),r.a.createElement(ae,{value:"writer"},"Writer"))),r.a.createElement(T.a.Item,{name:"country",label:"Country",rules:[{required:!0}]},r.a.createElement(U.a,{placeholder:"Select Country",allowClear:!0},r.a.createElement(ae,{value:"india"},"India"),r.a.createElement(ae,{value:"canada"},"Canada"),r.a.createElement(ae,{value:"usa"},"USA"))),r.a.createElement(ne,{steps:this.steps,current:this.state.current,next:this.next,prev:this.prev})),2===this.state.current&&r.a.createElement(T.a,Object.assign({},this.layout,{name:"basic",layout:"vertical",onFieldsChange:function(t,a){e.handlePersonalDetailsChange(a)}}),r.a.createElement(T.a.Item,{label:"Firstname",name:"firstname",rules:[{required:!0,message:"Please input your firstname!"}]},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{label:"Lastname",name:"lastname",rules:[{required:!0,message:"Please input your lastname!"}]},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{name:"interest",label:"Interest"},r.a.createElement(U.a,{mode:"multiple",placeholder:"Please select interested book categories."},this.state.bookCategories.map((function(e,t){return console.log(e._id),r.a.createElement(ae,{value:e._id,key:t},e.name)})))),r.a.createElement(ne,{steps:this.steps,current:this.state.current,next:this.next,prev:this.prev})),3===this.state.current&&r.a.createElement(D.a,{status:this.props.data&&this.props.data.isVerified?"success":"info",title:this.props.data&&this.props.data.isVerified?"Account Verified Successfully":"Please Check Your Email For Further Instructions!",subTitle:this.props.data&&this.props.data.isVerified?"Please Login With Your Credentials":"We have sent you 6-digit verification code Please Check Your Email.",extra:this.props.data&&this.props.data.isVerified?[r.a.createElement(A.a,{type:"dashed",key:"console",onClick:function(){return e.props.history.push("/signin")}},"Login")]:[r.a.createElement(T.a,{labelCol:{span:4},wrapperCol:{span:4},name:"basic",layout:"vertical",onFieldsChange:function(t,a){e.handleVerifyAccountChange(t)}},r.a.createElement(T.a.Item,{label:"Verification Code",name:"passcode",rules:[{required:!0,message:"Please input verification code!"}],style:{alignItems:"center"}},r.a.createElement(N.a,null))),r.a.createElement(A.a,{type:"primary",key:"console",onClick:this.handleVerifyAccount},"Verify"),r.a.createElement(A.a,{key:"buy"},"Send Again")]})))}}]),a}(r.a.Component),oe=Object(u.b)((function(e){return{data:e.data}}),(function(e){return{signupDispatch:function(t){return e(function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/signup"),e);case 4:return t.sent,a({type:"SUCCESSS"}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(0),G.a.error(t.t0.response.data.error),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},verificationDispatch:function(t){return e(z(t))}}}))(Object(i.g)(re)),ce=Object(i.g)((function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.global})),n=function(){var a=Object(j.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t(W(n,e.history));case 3:a.sent&&e.history.push("/"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),o=function(){var a=Object(j.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n.googleId){a.next=6;break}return a.next=4,t(H(n.profileObj));case 4:a.sent&&e.history.push("/");case 6:a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Signin"),r.a.createElement(T.a,Object.assign({name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:n},{labelCol:{span:8},wrapperCol:{span:8}}),r.a.createElement(T.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(N.a,{prefix:r.a.createElement(h.a,{className:"site-form-item-icon"}),placeholder:"Email / Username"})),r.a.createElement(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(N.a.Password,{prefix:r.a.createElement(f.a,{className:"site-form-item-icon"}),placeholder:"Password"})),r.a.createElement(T.a.Item,null,r.a.createElement(l.c,{className:"login-form-forgot",to:"/forget-password"},"Forgot password")),r.a.createElement(T.a.Item,null,r.a.createElement(F.GoogleLogin,{clientId:ee,buttonText:"Login With Goodle",onSuccess:o,onFailure:o,cookiePolicy:"single_host_origin"})),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:a.loading},"Log in"),"Or ",r.a.createElement(l.c,{to:"/signup"},"register now!"))))})),le=function(){var e=Object(u.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Forget Password"),r.a.createElement(T.a,Object.assign({name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){var a;console.log("Received values of form: ",t),e((a=t,function(){var e=Object(j.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/forget-password"),a,{headers:{Accept:"application/json"}});case 3:n=e.sent,M.a.success({message:"Reset Password",description:n.data.message,duration:0,icon:r.a.createElement(q.a,{style:{color:"#108ee9"}})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.a.warning(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}},{labelCol:{span:8},wrapperCol:{span:8}}),r.a.createElement(T.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],extra:"Enter your email address above and we will send you instructions on how to reset your password."},r.a.createElement(N.a,{prefix:r.a.createElement(h.a,{className:"site-form-item-icon"}),placeholder:"Email / Username"})),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Reset Password"))))},ie=Object(i.g)((function(e){var t=Object(u.c)(),a=e.match.params.token;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Reset Password"),r.a.createElement(T.a,Object.assign({name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){var n;console.log("Received values of form: ",e),t((n={password:e.password,resetPasswordToken:a},function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/reset-password"),n,{headers:{Accept:"application/json"}});case 3:a=e.sent,M.a.success({message:"Reset Password",description:a.data.message,duration:0,icon:r.a.createElement(q.a,{style:{color:"#108ee9"}})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),G.a.warning(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}},{labelCol:{span:8},wrapperCol:{span:8}},{layout:"vertical"}),r.a.createElement(T.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input password"},{min:6,message:"Min. 6 character required"}]},r.a.createElement(N.a.Password,null)),r.a.createElement(T.a.Item,{label:"Confirm Password",name:"passwordConfirmation",dependencies:["password"],rules:[{required:!0,message:"Please input confirm password"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(N.a.Password,null)),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Reset Password"))))})),se=a(113),ue=a(575),pe=a(114),me=a(58),de=a(568),he=a(576),fe=a(588),Ee=a(589),be=a(590),ge=Object(i.g)((function(e){s.a.Content;!!!window.localStorage.getItem("authUser")&&e.history.push("/signin");var t=Object(u.c)(),a=Object(u.d)((function(e){return e.authUser.authUser})),o=Object(u.d)((function(e){return e.global})),c=Object(u.d)((function(e){return e.authUser.user.mostLikedBooks})),l=Object(u.d)((function(e){return e.authUser.user.mostReadBooks}));console.log("favourite books",l),Object(n.useEffect)((function(){var e;t((a._id,e=a.token,function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/report/most-liked-book"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)}});case 4:n=t.sent,a(g(n.data)),a({type:"SUCCESSS"}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),t(function(e,t){return function(){var e=Object(j.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"LOADING"}),e.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/report/most-read-book"),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}});case 4:n=e.sent,a(g(n.data)),a({type:"SUCCESSS"}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(a._id,a.token))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"Top 3 Liked Books"),r.a.createElement(se.a,{gutter:[16,16]},o.loading&&r.a.createElement(ue.a,{active:!0}),c&&c.length<=0&&r.a.createElement(pe.a,{image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Currently your books are haven't read by anyone...")}),!o.loading&&c&&c.length>0&&c.map((function(e){return r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{title:e._id.title,bordered:!0,cover:r.a.createElement("img",{alt:"example",src:e._id.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}})},r.a.createElement("p",null,e._id.description),r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Read",value:e._id.numberOfRead.length,prefix:r.a.createElement(fe.a,null)})),r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Like",value:e.count,prefix:r.a.createElement(Ee.a,null)})),r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Dislike",value:e._id.dislikes.length,prefix:r.a.createElement(be.a,null)})))))})))),r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"Top 3 Reading Books"),r.a.createElement(se.a,{gutter:[16,16]},o.loading&&r.a.createElement(ue.a,{active:!0}),l&&l.length<=0&&r.a.createElement(pe.a,{image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Currently your books are haven't read by anyone...")}),!o.loading&&l&&l.length>0&&l.map((function(e){return r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{title:e._id.title,bordered:!0,cover:r.a.createElement("img",{alt:"example",src:e._id.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}})},r.a.createElement("p",null,"Cosos Theory"),r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Read",value:e.count,prefix:r.a.createElement(fe.a,null)})),r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Like",value:e._id.likes&&e._id.likes.length,prefix:r.a.createElement(Ee.a,null)})),r.a.createElement(me.a,{span:8},r.a.createElement(he.a,{title:"Dislike",value:e._id.dislikes&&e._id.dislikes.length,prefix:r.a.createElement(be.a,null)})))))})))))})),ke=a(580),ve=a(591),ye=Object(i.g)((function(e){s.a.Content,window.localStorage.getItem("authUser");var t=Object(u.c)(),a=Object(u.d)((function(e){return e.authUser.authUser})),o=Object(u.d)((function(e){return e.authUser.user})),c=Object(u.d)((function(e){return e.global}));Object(n.useEffect)((function(){t(Y(a._id,a.token))}),[a]),o&&!o.plan&&o._id&&e.history.push("/plans");var l=Object(u.d)((function(e){return e.authUser.user.interest})),i=Object(u.d)((function(e){return e.authUser.user.favouriteBook})),p=Object(u.d)((function(e){return e.authUser.user.bookToReadLater}));if(p&&p.length>3){var m=p.sort((function(){return.5-Math.random()}));p=m.slice(0,3)}var d=Object(u.d)((function(e){return e.authUser.user.currentReading})),h=function(t){e.history.push("/book/".concat(t))},f=function(){var n=Object(j.a)(O.a.mark((function n(r,o){var c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(Z({bookId:r,url:o},a._id,a.token));case 2:(c=n.sent)&&(c&&t({type:"SETBOOKTOREAD",payload:{_id:r,url:o}}),setTimeout((function(){return e.history.push("/book/view")}),300));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),E=function(e){t(function(e,t,a){return function(){var n=Object(j.a)(O.a.mark((function n(r){var o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.delete("".concat("https://bookskindleb.herokuapp.com/api","/user/book/read/").concat(e),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});case 3:if(!(o=n.sent).data.isRemoved){n.next=10;break}return r(Y(t,a)),G.a.success(o.data.successText),n.abrupt("return",!0);case 10:return G.a.warning(o.data.error),n.abrupt("return",!1);case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(0);case 16:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()}(e,a._id,a.token))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"RECOMMENDED FOR YOU"),c.loading&&r.a.createElement(ue.a,{active:!0}),l&&l.length<=0&&r.a.createElement(pe.a,{style:{margin:"auto"},image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Search book here...")},r.a.createElement(A.a,{type:"dashed",onClick:function(){return e.history.push("/search")}},"Find Books")),r.a.createElement(se.a,{gutter:[16,16]},!c.loading&&l&&l.length>0&&l.map((function(e,t){return t<=2&&r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{bordered:!0,title:e.title,cover:r.a.createElement(ke.a,{title:"Do you want to read?",onConfirm:function(){return f(e._id,e.reference)},onCancel:function(){return 1},okText:"Yes",cancelText:"No"},r.a.createElement("img",{alt:"example",src:e.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}}))},r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:18},r.a.createElement("p",null,e.description)),r.a.createElement(me.a,{span:4},r.a.createElement(B.a,{style:{cursor:"pointer"},onClick:function(){return h(e._id)}})))))})))),r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"CONTINUE READING"),c.loading&&r.a.createElement(ue.a,{active:!0}),d&&d.length<=0&&r.a.createElement(pe.a,{style:{margin:"auto"},image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Search book here...")},r.a.createElement(A.a,{type:"dashed",onClick:function(){return e.history.push("/search")}},"Find Books")),r.a.createElement(se.a,{gutter:[16,16]},!c.loading&&d&&d.length>0&&d.map((function(e,t){return t<=2&&r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{bordered:!0,title:e.book.title,cover:r.a.createElement(ke.a,{title:"Do you want to read?",onConfirm:function(){return f(e.book._id,e.book.reference)},onCancel:function(){return 1},okText:"Yes",cancelText:"No"},r.a.createElement("img",{alt:"example",src:e.book.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}}))},r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:18},r.a.createElement("p",null,e.book.description)),r.a.createElement(me.a,{span:4},r.a.createElement(B.a,{style:{cursor:"pointer"},onClick:function(){return h(e.book._id)}})),r.a.createElement(me.a,{span:2},r.a.createElement(ke.a,{title:"Do you want to remove from this list?",onConfirm:function(){return E(e.book._id)},onCancel:function(){return 1},okText:"Yes",cancelText:"No"},r.a.createElement(ve.a,{style:{cursor:"pointer"}}))))))})))),r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"FAVORITE BOOKS"),c.loading&&r.a.createElement(ue.a,{active:!0}),i&&i.length<=0&&r.a.createElement(pe.a,{image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Search book here...")},r.a.createElement(A.a,{type:"dashed",onClick:function(){return e.history.push("/search")}},"Find Books")),r.a.createElement(se.a,{gutter:[16,16]},!c.loading&&i&&i.map((function(e,t){return t<=2&&r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{bordered:!0,title:e.book.title.charAt(0).toUpperCase()+e.book.title.slice(1),cover:r.a.createElement(ke.a,{title:"Do you want to read?",onConfirm:function(){return f(e.book._id,e.book.reference)},onCancel:function(){return 1},okText:"Yes",cancelText:"No"},r.a.createElement("img",{alt:"example",src:e.book.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}}))},r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:20},r.a.createElement("p",null,e.book.description.charAt(0).toUpperCase()+e.book.description.slice(1))),r.a.createElement(me.a,{span:4},r.a.createElement(B.a,{style:{cursor:"pointer"},onClick:function(){return h(e.book._id)}})))))})))),r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement("h1",null,"FROM READ LATER BOOK LIST"),c.loading&&r.a.createElement(ue.a,{active:!0}),p&&p.length<=0&&r.a.createElement(pe.a,{image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"Search book here...")},r.a.createElement(A.a,{type:"dashed",onClick:function(){return e.history.push("/search")}},"Find Books")),r.a.createElement(se.a,{gutter:[16,16]},!c.loading&&p&&p.length>=0&&p.map((function(e){return r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{bordered:!0,title:e.title.charAt(0).toUpperCase()+e.title.slice(1),cover:r.a.createElement(ke.a,{title:"Do you want to read?",onConfirm:function(){return f(e._id,e.reference)},onCancel:function(){return 1},okText:"Yes",cancelText:"No"},r.a.createElement("img",{alt:"example",src:e.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}}))},r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:20},r.a.createElement("p",null,e.description.charAt(0).toUpperCase()+e.description.slice(1))),r.a.createElement(me.a,{span:4},r.a.createElement(B.a,{style:{cursor:"pointer"},onClick:function(){return h(e._id)}})))))})))))})),Oe=a(19),je=a(206),we=a(577),xe=a(592),Se=a(593),Ce=a(594),Ie=a(595),Ue=(de.a.Meta,function(){var e=Object(n.useState)(null),t=Object(Oe.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(1),l=Object(Oe.a)(c,2),i=l[0];l[1];return r.a.createElement("div",null,r.a.createElement(je.Document,{file:"http://localhost:5431/upload/Arpil-Report (Saiyad zaid 92).pdf",onLoadSuccess:function(e){var t=e.numPages;o(t)}},r.a.createElement(je.Page,{pageNumber:i})),r.a.createElement("p",null,"Page ",i," of ",a))}),Ae=function(e){var t=Object(u.c)(),a=Object(n.useState)(!1),o=Object(Oe.a)(a,2),c=o[0],l=o[1],i=Object(u.d)((function(e){return e.global})),s=Object(u.d)((function(e){return e.authUser.authUser})),p=Object(u.d)((function(e){return e.books.books}));Object(n.useEffect)((function(){t(J(s))}),[]);var m=function(e){t(function(e,t,a){return function(){var n=Object(j.a)(O.a.mark((function n(r){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,R.a.delete("".concat("https://bookskindleb.herokuapp.com/api","/books/").concat(e),{headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}});case 3:return n.sent,r(J({_id:t,token:a})),G.a.warning("Record Deleted Successfully"),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(0),G.a.error(n.t0.response.data.error),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(e,s._id,s.token))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(we.a,{ghost:!1,title:"My Books",onBack:function(){return window.history.back()},extra:[r.a.createElement(A.a,{key:"1",type:"primary",onClick:function(){return e.history.push("/add-book")}},"Add Book")]})),c?r.a.createElement(Ue,null):r.a.createElement(se.a,{gutter:[16,16]},i.loading&&r.a.createElement(ue.a,{active:!0}),p&&p.length<=0&&r.a.createElement(pe.a,{style:{margin:"auto"},image:pe.a.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:100},description:r.a.createElement("span",null,"You haven't added any book yet...")}),!i.loading&&p&&p.length>0&&p.map((function(a){return r.a.createElement(me.a,{xs:24,md:4},r.a.createElement(de.a,{title:a.title.charAt(0).toUpperCase()+a.title.slice(1),bordered:!1,cover:r.a.createElement(ke.a,{title:"Do you want to read\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return a.reference,void l(!0)}},r.a.createElement("img",{alt:"example",src:a.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}})),actions:[r.a.createElement(xe.a,{key:"edit",onClick:function(){return t=a._id,void e.history.push("/edit-book/".concat(t));var t}}),r.a.createElement(ke.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return m(a._id)}},r.a.createElement(Se.a,{key:"delete"})),r.a.createElement(ke.a,{title:a.status?"Wanna private this book?":"Wanna public this book",okText:"Yes",cancelText:"No",onConfirm:function(){return e=a._id,n=a.status,void t(X({status:!n},e,s._id,s.token));var e,n}},a.status?r.a.createElement(Ce.a,null):r.a.createElement(Ie.a,null))]},a.description.charAt(0).toUpperCase()+a.description.slice(1)))}))))},Te=a(572),Ne=a(566),De=a(53),_e=a(596),Be=a(597),Pe=a(598),Le=a(599),Re=a(600),Fe=a(601),Ge=a(602),Me=a(603),qe=a(207),Ve=a.n(qe),ze=N.a.TextArea,We=["terrible","bad","normal","good","wonderful"],He=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,o=e.value,c=e.rateValue,l=e.onRateChange,i=e.hasRated;return r.a.createElement(T.a,{onFinish:a},!i&&r.a.createElement(T.a.Item,null,r.a.createElement("span",null,"Rate :"),r.a.createElement(Te.a,{defaultValue:c,tooltips:We,character:r.a.createElement(q.a,null),onChange:l})),r.a.createElement(T.a.Item,{name:"comment",rules:[{required:!0,message:"Please input Comment."}]},r.a.createElement(ze,{rows:4,onChange:t,value:o})),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{htmlType:"submit",loading:n,type:"primary"},"Add Comment")))},Ye=function(e){var t=Object(u.d)((function(e){return e.books.book})),a=Object(u.d)((function(e){return e.authUser.authUser})),o=Object(u.d)((function(e){return e.authUser.user})),c=Object(u.c)(),i=Object(n.useState)(null),s=Object(Oe.a)(i,2),p=s[0],m=s[1],h=Object(n.useState)(5),f=Object(Oe.a)(h,2),E=f[0],b=f[1],g=!1,k=!1,v=!1,y=!1,w=!1;(Object(n.useEffect)((function(){c(K(e.match.params.bookId)),c(Y(a._id,a.token))}),[]),t.likes&&t.likes.length>0)&&(-1!==t.likes.findIndex((function(e){return e._id===a._id}))&&(g=!0));t.dislikes&&t.dislikes.length>0&&(-1!==t.dislikes.findIndex((function(e){return e._id===a._id}))&&(k=!0));o.favouriteBook&&o.favouriteBook.length>0&&(-1!==o.favouriteBook.findIndex((function(e){return e.book._id===t._id}))&&(v=!0));o.bookToReadLater&&o.bookToReadLater.length>0&&(-1!==o.bookToReadLater.findIndex((function(e){return e._id===t._id}))&&(y=!0));t.ratings&&t.ratings.length>0&&(-1!==t.ratings.findIndex((function(e){return e.user===a._id}))&&(w=!0));var x=function(e){var n,r;c((n={bookId:t._id},a._id,r=a.token,function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/book/like"),n,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(r)}});case 3:return e.sent,t(K(n.bookId)),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},S=function(e){var n,r;c((n={bookId:t._id},a._id,r=a.token,function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/book/dislike"),n,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(r)}});case 3:return e.sent,t(K(n.bookId)),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},C=function(e){var n,r,o,l;c((n=v,r={bookId:t._id},o=a._id,l=a.token,function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/book/favourite"),r,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(l)}});case 3:return e.sent,n?G.a.warning("Book Removed From Favourite List"):G.a.success("Book Added to Favourite List"),t(K(r.bookId)),t(Y(o,l)),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},I=function(e){c(function(e,t,a,n){return function(){var r=Object(j.a)(O.a.mark((function r(o){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/book/read-later"),t,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 3:return r.sent,e?G.a.warning("Book Removed From Read Later List"):G.a.success("Book Added To Read Later List"),o(K(t.bookId)),o(Y(a,n)),r.abrupt("return",!0);case 10:r.prev=10,r.t0=r.catch(0);case 12:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}(y,{bookId:t._id},a._id,a.token))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{title:t.title,bordered:!1,cover:r.a.createElement("img",{alt:"example",src:t.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}}),actions:[r.a.createElement(he.a,{value:t.likes&&t.likes.length,valueStyle:{fontSize:"1rem"},prefix:g?r.a.createElement(_e.a,{style:{fontSize:"1rem"},onClick:x}):r.a.createElement(Be.a,{style:{fontSize:"1rem"},onClick:x})}),r.a.createElement(he.a,{value:t.dislikes&&t.dislikes.length,valueStyle:{fontSize:"1rem"},prefix:k?r.a.createElement(Pe.a,{style:{fontSize:"1rem"},onClick:S}):r.a.createElement(Le.a,{style:{fontSize:"1rem"},onClick:S})}),y?r.a.createElement(Re.a,{key:"edit",onClick:I}):r.a.createElement(Fe.a,{key:"edit",onClick:I}),v?r.a.createElement(Ge.a,{key:"edit",onClick:C}):r.a.createElement(Me.a,{key:"edit",onClick:C})]},t.description),t.comments&&t.comments.map((function(e,n){return r.a.createElement(Ne.a,{key:n,author:r.a.createElement(l.b,null,e.postedBy.username===a.username&&"you"),avatar:r.a.createElement(d.a,{src:"https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",alt:"Han Solo"}),content:r.a.createElement("p",null,e.text),datetime:r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,{title:Ve()().format("YYYY-MM-DD HH:mm:ss")},r.a.createElement("span",null,Ve()(e.created).fromNow())),r.a.createElement(Te.a,{disabled:!0,character:r.a.createElement(q.a,null),defaultValue:t.ratings&&t.ratings[n]&&t.ratings[n].rate}))})})),r.a.createElement(Ne.a,{avatar:r.a.createElement(d.a,{src:"https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80",alt:"Han Solo"}),content:r.a.createElement(He,{submitting:"",value:p,rateValue:E,onSubmit:function(){var e,n,r={bookId:t._id,comment:p,ratings:E};c((e=r,a._id,n=a.token,function(){var t=Object(j.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/book/comment"),e,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}});case 3:return t.sent,a(K(e.bookId)),t.abrupt("return",!0);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),m("")},onChange:function(e){m(e.target.value)},onRateChange:function(e){b(e)},hasRated:w})}))},Je=a(569),Ke=a(567),Qe=a(604),$e=Object(i.g)((function(e){var t=Object(u.c)();Object(n.useEffect)((function(){t(Q())}),[]);var a=Object(u.d)((function(e){return e.authUser.authUser})),o=Object(u.d)((function(e){return e.books.categories})),c=Object(n.useState)(""),l=Object(Oe.a)(c,2),i=l[0],s=l[1],p=Object(n.useState)(""),m=Object(Oe.a)(p,2),d=m[0],h=m[1],f=Je.a.Dragger,E={name:"reference",multiple:!0,action:"".concat("https://bookskindleb.herokuapp.com/api","/upload"),onChange:function(e){var t=e.file,a=t.status,n=t.response;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a&&n.isUploaded?(s(n.public_uri),G.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&G.a.error("".concat(e.file.name," file upload failed."))}},b={name:"photo",multiple:!0,action:"".concat("https://bookskindleb.herokuapp.com/api","/upload"),onChange:function(e){var t=e.file,a=t.status,n=t.response;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a&&n.isUploaded?(h(n.public_uri),G.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&G.a.error("".concat(e.file.name," file upload failed."))}},g=function(){var n=Object(j.a)(O.a.mark((function n(r){var o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.reference=i,r.photo=d,n.next=4,t($(r,a.token,a._id));case 4:o=n.sent,setTimeout((function(){o&&e.history.push("/mybooks")}),300);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(we.a,{ghost:!1,title:"Add book",onBack:function(){return window.history.back()}})),r.a.createElement(T.a,{layout:"vertical",onFinish:g},r.a.createElement(T.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please input title!"}]},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please input description!"}]},r.a.createElement(N.a.TextArea,null)),r.a.createElement(T.a.Item,{name:"photo",label:"Cover Photo",rules:[{required:!0,message:"Please input your book photo!"}]},r.a.createElement(f,b,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Qe.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Upload your book cover image"))),r.a.createElement(T.a.Item,{label:"Category",name:"category"},r.a.createElement(U.a,null,o&&o.length>0&&o.map((function(e){return r.a.createElement(U.a.Option,{value:e._id},e.name)})))),r.a.createElement(T.a.Item,{name:"pages",label:"Number of pages",rules:[{required:!0,message:"Please input your book pages!"}]},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{name:"reference",label:"Reference",rules:[{required:!0,message:"Please input your book reference!"}]},r.a.createElement(f,E,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Qe.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Upload your book PDF"))),r.a.createElement(T.a.Item,{name:"isOnTrueEvent",label:"Is on True Event",rules:[{required:!0,message:"Please select event!"}]},r.a.createElement(Ke.default.Group,null,r.a.createElement(Ke.default,{value:"1"},"Yes"),r.a.createElement(Ke.default,{value:"0"},"No"))),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit"},"Submit"))))})),Xe=function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.authUser.authUser})),o=Object(u.d)((function(e){return e.books.categories})),c=Object(u.d)((function(e){return e.books.books})).filter((function(t){return t._id===e.match.params.bookId})),l=Object(n.useState)(c[0]?c[0].photo:" "),i=Object(Oe.a)(l,2),s=i[0],p=i[1],m=Object(n.useState)(c[0]?c[0].reference:" "),d=Object(Oe.a)(m,2),h=d[0],f=d[1];Object(n.useEffect)((function(){t(Q())}),[]);var E=Je.a.Dragger,b={name:"photo",multiple:!0,action:"".concat("https://bookskindleb.herokuapp.com/api","/upload"),onChange:function(e){var t=e.file,a=t.status,n=t.response;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a&&n.isUploaded?(p(n.public_uri),G.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&G.a.error("".concat(e.file.name," file upload failed."))}},g={name:"reference",multiple:!0,action:"".concat("https://bookskindleb.herokuapp.com/api","/upload"),onChange:function(e){var t=e.file,a=t.status,n=t.response;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a&&n.isUploaded?(f(n.public_uri),G.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===a&&G.a.error("".concat(e.file.name," file upload failed."))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(we.a,{ghost:!1,title:"Edit book",onBack:function(){return window.history.back()}})),r.a.createElement(T.a,{layout:"vertical",onFinish:function(n){n.photo=s,n.reference=h,t(X(n,e.match.params.bookId,a._id,a.token))&&e.history.push("/mybooks")}},r.a.createElement(T.a.Item,{name:"title",label:"Title",initialValue:c[0]&&c[0].title},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{name:"description",label:"Description",initialValue:c[0]&&c[0].description},r.a.createElement(N.a.TextArea,null)),r.a.createElement(T.a.Item,{name:"photo",label:"Cover Photo"},r.a.createElement(E,b,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Qe.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Upload your book cover image"))),r.a.createElement(T.a.Item,{label:"Category",name:"category"},r.a.createElement(U.a,{defaultValue:c[0]&&c[0].category},o&&o.length>0&&o.map((function(e){return r.a.createElement(U.a.Option,{value:e._id},e.name)})))),r.a.createElement(T.a.Item,{name:"pages",label:"Number of pages",initialValue:c[0]&&c[0].pages},r.a.createElement(N.a,null)),r.a.createElement(T.a.Item,{name:"reference",label:"Reference"},r.a.createElement(E,g,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(Qe.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Upload your book PDF"))),r.a.createElement(T.a.Item,{name:"isOnTrueEvent",label:"Is on True Event"},r.a.createElement(Ke.default.Group,{defaultValue:c[0]&&c[0].isOnTrueEvent?"1":"0"},r.a.createElement(Ke.default,{value:"1"},"Yes"),r.a.createElement(Ke.default,{value:"0"},"No"))),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit"},"Submit"))))},Ze=N.a.Search,et=U.a.Option,tt=function(e){var t=Object(u.c)(),a=Object(n.useState)("title"),o=Object(Oe.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),s=Object(Oe.a)(i,2),p=s[0],m=s[1],d=Object(n.useState)(""),h=Object(Oe.a)(d,2),f=h[0],E=h[1],b=Object(n.useState)([]),g=Object(Oe.a)(b,2),k=g[0],v=g[1],y=Object(u.d)((function(e){return e.books.searchBooks})),w=Object(u.d)((function(e){return e.books.categories})),x=Object(u.d)((function(e){return e.books.authors}));Object(n.useEffect)((function(){t(function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/books"));case 3:a=e.sent,t({type:"GETALLBOOKS",payload:a.data.books}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),t(Q()),t(function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING"}),e.next=4,R.a.get("".concat("https://bookskindleb.herokuapp.com/api","/book/authors"));case 4:a=e.sent,t({type:"GETAUTHORS",payload:a.data.authors}),t({type:"SUCCESSS"}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(we.a,{ghost:!1},r.a.createElement(T.a,{name:"basic"},r.a.createElement(T.a.Item,null,r.a.createElement(N.a.Group,{compact:!0},r.a.createElement(U.a,{defaultValue:"title",onChange:function(e){l(e)}},r.a.createElement(et,{value:"category"},"Category"),r.a.createElement(et,{value:"author"},"Author"),r.a.createElement(et,{value:"title"},"Title")),r.a.createElement(Ze,{placeholder:"Search books",onSearch:function(e){return console.log("SEARCH BUTTON CLICKED")},onChange:function(e){return function(e){if("title"===c){var t=y.filter((function(t){return t.title.startsWith(e.target.value)}));v(t)}if("category"===c){var a=y.filter((function(t){return t.title.startsWith(e.target.value)&&t.category._id===p}));v(a)}if("author"===c){var n=y.filter((function(t){return t.title.startsWith(e.target.value)&&t.author===f}));v(n)}}(e)},style:{width:200}}))),"title"!==c&&r.a.createElement(T.a.Item,null,r.a.createElement(N.a.Group,{compact:!0},r.a.createElement(U.a,{showSearch:!0,style:{width:270},placeholder:"author"===c?"Search a author":"category"===c&&"Search a category",optionFilterProp:"children",onChange:"category"===c&&function(e){m(e)}||"author"===c&&function(e){E(e)},onSearch:function(){return 1},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},"category"===c&&w.map((function(e){return r.a.createElement(et,{value:e._id},e.name)})),"author"===c&&x.map((function(e){return r.a.createElement(et,{value:e._id},e.firstname)})))))))),r.a.createElement(se.a,{gutter:[16,16]},k.map((function(t){return r.a.createElement(me.a,{xs:24,md:4},r.a.createElement(de.a,{title:t.title,bordered:!1,cover:r.a.createElement("img",{alt:"example",src:t.photo,onError:function(e){return e.target.src="https://images.unsplash.com/photo-1592859372969-7ce244fb6582?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"},style:{height:"200px",objectFit:"contain"}})},r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:19},r.a.createElement("p",null,t.description)),r.a.createElement(me.a,{span:5},r.a.createElement(B.a,{style:{cursor:"pointer"},onClick:function(){return a=t._id,void e.history.push("/book/".concat(a));var a}})))))}))))},at=function(){return r.a.createElement(D.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(A.a,{type:"primary"},"Back Home")})},nt=a(81),rt=function(e){var t=e.component,a=e.authUser,n=Object(nt.a)(e,["component","authUser"]);return r.a.createElement(i.b,Object.assign({},n,{render:function(e){return a.isLoggedIn&&"writer"===a.role?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/dashboard",state:{from:e.location}}})}}))},ot=a(574),ct=a(605),lt=ot.a.Text,it=ot.a.Title,st=Object(i.g)((function(e){var t=Object(u.d)((function(e){return e.authUser.authUser})),a=Object(u.c)(),n=function(n){var r,o,c,l=a((r={plan:n},o=t._id,c=t.token,function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat("https://bookskindleb.herokuapp.com/api","/plan/").concat(o),r,{headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}});case 3:return e.sent,t(Y(o,c)),e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));setTimeout((function(){return l&&e.history.push("/")}),300)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement(it,{level:3},"Pricing"),r.a.createElement(se.a,{gutter:[16,16]},r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{title:"Basic",bordered:!0,style:{border:"1px solid #1890ff"},actions:[r.a.createElement(A.a,{type:"primary",onClick:function(){return n("basic")},style:{display:"block"}},"Select"),,]},r.a.createElement("p",null,"Free"),r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null),"  ",r.a.createElement(lt,{type:"secondary"},"Access 1 Book/Month")),r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null),"  ",r.a.createElement(lt,{type:"secondary"},"1 Book/Time"))))),r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{title:"Standard",bordered:!0,style:{border:"1px solid #1890ff"},actions:[r.a.createElement(A.a,{type:"primary",onClick:function(){return n("standard")},style:{display:"block"}},"Select")]},r.a.createElement("p",null,"$5 / month"),r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null)," ","  ",r.a.createElement(lt,{type:"secondary"},"Read/Access 5 Books/Month")),r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null),r.a.createElement(lt,{type:"secondary"},"3 Book/Time"))))),r.a.createElement(me.a,{xs:24,md:8},r.a.createElement(de.a,{title:"Prime",bordered:!0,style:{border:"1px solid #1890ff"},actions:[r.a.createElement(A.a,{type:"primary",onClick:function(){return n("prime")},style:{display:"block"}},"Select")]},r.a.createElement("p",null,"$10 / month"),r.a.createElement(se.a,{gutter:24},r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null),"  ",r.a.createElement(lt,{type:"secondary"},"Read/Access 15 Books/Month")),r.a.createElement(me.a,{span:24},r.a.createElement(ct.a,null),"  ",r.a.createElement(lt,{type:"secondary"},"7 Book/Time"))))))))})),ut=a(208);var pt=function(){var e=Object(n.useState)(null),t=Object(Oe.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(1),l=Object(Oe.a)(c,2),i=l[0],s=l[1],p=Object(u.d)((function(e){return e.books.currentReading}));return r.a.createElement("div",null,r.a.createElement("div",{className:"site-page-header-ghost-wrapper"},r.a.createElement(we.a,{ghost:!1,title:"Reading",onBack:function(){return window.history.back()}})),r.a.createElement(ut.Document,{file:p.url,onLoadSuccess:function(e){var t=e.numPages;o(t)}},r.a.createElement(ut.Page,{pageNumber:i})),r.a.createElement("p",null,r.a.createElement(A.a,{onClick:function(){i>1&&s(i-1)}},"Prev")," ","Page ",i," of ",a," ",r.a.createElement(A.a,{onClick:function(){i<a&&s(i+1)}},"Next")))},mt=Object(i.g)((function(e){var t=Object(n.useState)(!1),a=Object(Oe.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),i=Object(Oe.a)(l,2),s=i[0],p=i[1],m=Object(n.useState)(""),d=Object(Oe.a)(m,2),E=d[0],b=d[1],g=Object(u.c)(),k=(Object(u.d)((function(e){return e.global})),function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(z({passcode:E,username:s}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),v=function(){var e;g((e={username:s},function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING"}),t.next=4,R.a.patch("".concat("https://bookskindleb.herokuapp.com/api","/send/verification-code"),e);case 4:n=t.sent,G.a.success(n.data.message),a({type:"SUCCESSS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),G.a.error(t.t0.response.data.error);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),c(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Account Verification"),r.a.createElement(T.a,Object.assign({name:"normal_login",className:"login-form",initialValues:{remember:!0}},{labelCol:{span:8},wrapperCol:{span:8}}),!o&&r.a.createElement(T.a.Item,null,r.a.createElement(N.a,{name:"username",prefix:r.a.createElement(h.a,{className:"site-form-item-icon"}),placeholder:"Email / Username",onChange:function(e){return p(e.target.value)}})),o&&r.a.createElement(T.a.Item,null,r.a.createElement(N.a.Password,{name:"passcode",prefix:r.a.createElement(f.a,{className:"site-form-item-icon"}),placeholder:"Verification Code",onChange:function(e){return b(e.target.value)}})),r.a.createElement(T.a.Item,null,r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:o?function(){return k()}:function(){return v()}},o?"Verify":"Send Verification Code"),"  ",o&&r.a.createElement(A.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){return v()}},"Send Again"))))})),dt=a(76),ht=a(294),ft=a(295),Et=a(296),bt=a(9),gt={books:[],book:{},currentReading:{},searchBooks:[],categories:[],authors:[],loading:!1},kt={authUser:window.localStorage.getItem("authUser")?JSON.parse(window.localStorage.getItem("authUser")):{},user:{},loading:!1},vt={loading:!1},yt=Object(dt.combineReducers)({authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return window.localStorage.setItem("authUser",JSON.stringify(t.payload)),Object(bt.a)(Object(bt.a)({},e),{},{authUser:t.payload,loading:!1});case"AUTHUSER":return t.payload.mostLikedBooks?Object(bt.a)(Object(bt.a)({},e),{},{user:{mostLikedBooks:t.payload.mostLikedBooks,mostReadBooks:e.user.mostReadBooks},loading:!1}):t.payload.mostReadBooks?Object(bt.a)(Object(bt.a)({},e),{},{user:{mostReadBooks:t.payload.mostReadBooks,mostLikedBooks:e.user.mostLikedBooks},loading:!1}):Object(bt.a)(Object(bt.a)({},e),{},{user:t.payload});case"LOGOUT":return window.localStorage.setItem("authUser",JSON.stringify({})),window.localStorage.removeItem("authUser"),Object(bt.a)(Object(bt.a)({},e),{},{authUser:{},user:{},loading:!1});case"GET":var a=JSON.parse(window.localStorage.getItem("authUser"));return{authUser:a};case"LOADING":return Object(bt.a)(Object(bt.a)({},e),{},{loading:!0});case"SUCCESS":return Object(bt.a)(Object(bt.a)({},e),{},{authUser:t.payload,loading:!1});default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETBOOKS":return Object(bt.a)(Object(bt.a)({},e),{},{books:t.payload,loading:!1});case"GETBOOK":return Object(bt.a)(Object(bt.a)({},e),{},{book:t.payload,loading:!1});case"SETBOOKTOREAD":return Object(bt.a)(Object(bt.a)({},e),{},{currentReading:t.payload});case"GETALLBOOKS":return Object(bt.a)(Object(bt.a)({},e),{},{searchBooks:t.payload});case"GETALLCATEGORIES":return Object(bt.a)(Object(bt.a)({},e),{},{categories:t.payload});case"GETAUTHORS":return Object(bt.a)(Object(bt.a)({},e),{},{authors:t.payload});case"INSERT":case"UPDATE":case"DELETE":return Object(bt.a)({},e);case"LOADING":return Object(bt.a)(Object(bt.a)({},e),{},{loading:!0});case"SUCCESS":return Object(bt.a)(Object(bt.a)({},e),{},{loading:!1});case"FAILURE":return Object(bt.a)(Object(bt.a)({},e),{},{error:t.payload,loading:!1});default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(bt.a)(Object(bt.a)({},e),{},{loading:!0});case"SUCCESSS":return Object(bt.a)(Object(bt.a)({},e),{},{loading:!1});default:return e}}}),Ot=Object(dt.createStore)(yt,Object(Et.composeWithDevTools)(Object(dt.applyMiddleware)(ht.logger,ft.a))),jt=s.a.Content,wt=Object(i.g)((function(e){var t=Object(u.d)((function(e){return e.authUser.authUser})),a=!!window.localStorage.getItem("authUser");return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(v,{isLoggedIn:a}),r.a.createElement(jt,{className:"site-layout",style:{padding:"0 50px",marginTop:10}},r.a.createElement("div",{className:"site-layout-background",style:{padding:10,minHeight:380}},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return t&&"writer"===t.role?r.a.createElement(ge,null):t&&"reader"===t.role?r.a.createElement(ye,null):r.a.createElement(ce,null)}}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:oe}),r.a.createElement(i.b,{exact:!0,path:"/signin",component:ce}),r.a.createElement(i.b,{exact:!0,path:"/forget-password",component:le}),r.a.createElement(i.b,{exact:!0,path:"/reset-password/:token",component:ie}),r.a.createElement(rt,Object.assign({exact:!0,path:"/mybooks",component:Ae,authUser:t},e)),r.a.createElement(rt,Object.assign({exact:!0,path:"/add-book",component:$e,authUser:t},e)),r.a.createElement(rt,Object.assign({exact:!0,path:"/edit-book/:bookId",component:Xe,authUser:t},e)),r.a.createElement(i.b,{exact:!0,path:"/book/view",component:pt}),r.a.createElement(i.b,{exact:!0,path:"/book/:bookId",component:Ye}),r.a.createElement(i.b,{exact:!0,path:"/search",component:tt}),r.a.createElement(i.b,{exact:!0,path:"/plans",component:st}),r.a.createElement(i.b,{exact:!0,path:"/account/verification",component:mt}),r.a.createElement(i.b,{path:"*",component:at})))))))})),xt=function(){return r.a.createElement(u.a,{store:Ot},r.a.createElement(l.a,null,r.a.createElement(wt,null)))};a(562),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(xt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[303,1,2]]]);